# single-spa微前端框架
## 基础
- 核心两个函数，registerApplication和start，在single-spa.js中对外暴露。
1. register注册应用时候，如果路径匹配，会加载对应的应用；不匹配则不会加载。
2. start启动后，会加载路径匹配的应用 =》 启动对应的应用 =》确保卸载完应用 =》 挂载应用。
<!--
 start的加载应用是因为注册时候可能没加载当前路径的应用，那就再加载一次。
    比如注册应用时候是路径/a，会加载a应用，但不会加载b应用。
    启动时候是b应用，这时候需要加载b应用。
 -->
## registerApplication
1. app.js中暴露此方法，接受应用注册的数据，所有子应用统一放到apps；
2. 每注册一个应用，调用一次reroute方法。
3. 辅助方法：app.helpers.js中定义了子应用的状态，并根据状态判断子应用是要被 加载、挂载或卸载。
## start
1. started全局变量，确保只加载一次。
2. 调用reroute方法。


## 核心：***reroute***方法
1. 根据应用的state状态区分要加载的应用、要卸载的应用、要挂载的应用。
然后根据全局started变量两种情况：
2. 一种是没有调用start方法，用户注册时候调用reroute方法，只会加载当前路径匹配、对应的应用。
3. 第二种情况是调用了start方法，用户会卸载应用，
加载对应的应用 =》 启动对应的应用 =》 确保卸载完毕 =》 挂载对应的应用。